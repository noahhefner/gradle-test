// GitHub actions Gradle build
plugins {
    id("com.gradle.enterprise") version("3.9")
}

gradleEnterprise {
    if (System.getenv("CI") != null) {
        buildScan {
            publishAlways()
            termsOfServiceUrl = "https://gradle.com/terms-of-service"
            termsOfServiceAgree = "yes"
        }
    }
}

rootProject.name = 'gradle-test'

// Include all modules in FEND
new File("FEND/").listFiles().each
{
   if (it.directory && new File(it, 'build.gradle').exists())
   {
      include ":FEND:${it.name}"
   }
}

// Include all modules in Common
new File("Common/").listFiles().each
{
   if (it.directory && new File(it, 'build.gradle').exists())
   {
      include ":Common:${it.name}"
   }
}